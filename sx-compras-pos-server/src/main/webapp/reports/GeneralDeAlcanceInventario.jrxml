<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="GeneralDeAlcance" pageWidth="612" pageHeight="792" columnWidth="573" leftMargin="22" rightMargin="17" topMargin="20" bottomMargin="20" uuid="94da738e-92e6-4eb2-a3f6-e958dba1e2dc">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.6105100000000008"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="FECHA_INI" class="java.util.Date"/>
	<parameter name="FECHA_FIN" class="java.util.Date"/>
	<parameter name="SUCURSAL" class="java.lang.String"/>
	<parameter name="LINEA" class="java.lang.String"/>
	<parameter name="MESES" class="java.lang.Double"/>
	<parameter name="ORDEN" class="java.lang.String"/>
	<parameter name="FORMA" class="java.lang.String"/>
	<parameter name="FILTRO" class="java.lang.String">
		<defaultValueExpression><![CDATA[" LIKE '%'"]]></defaultValueExpression>
	</parameter>
	<parameter name="FILTRADO" class="java.lang.String">
		<defaultValueExpression><![CDATA["TODOS"]]></defaultValueExpression>
	</parameter>
	<parameter name="MESESF" class="java.lang.Double">
		<defaultValueExpression><![CDATA[$P{MESES}]]></defaultValueExpression>
	</parameter>
	<parameter name="DELINEA" class="java.lang.String">
		<defaultValueExpression><![CDATA[" "]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT x.*

,(EXIST+PED_PEND)/PROM_VTA ALC_TOT_PED

,if( ((PROM_VTA*$P{MESES})-(EXIST+PED_PEND)) <=0.000,0.000,((PROM_VTA*$P{MESES})-(EXIST+PED_PEND)) ) PEDIDO

FROM(

SELECT CASE WHEN $P{SUCURSAL}='%' THEN "TODAS" ELSE (SELECT S.NOMBRE FROM sucursal S WHERE S.activa IS TRUE AND S.ID LIKE $P{SUCURSAL} ) END AS SUCURSAL,L.LINEA,C.CLASE,M.MARCA,P.CLAVE,P.DESCRIPCION,P.KILOS
,SUM(EXI) AS EXIST,(CASE WHEN SUM(VTA)=0 AND P.UNIDAD='MIL' THEN 0.100 WHEN SUM(VTA)=0 AND P.UNIDAD<>'MIL' THEN 1 ELSE SUM(VTA)  END)  AS VTA,ROUND((ROUND(TO_DAYS($P{FECHA_FIN})-TO_DAYS($P{FECHA_INI}),0)),0)/30.4166 AS MESES_PRDO
,(CASE WHEN SUM(VTA)=0 AND P.UNIDAD='MIL' THEN 0.100 WHEN SUM(VTA)=0 AND P.UNIDAD<>'MIL' THEN 1 ELSE (SUM(VTA)/(ROUND((ROUND(TO_DAYS($P{FECHA_FIN})-TO_DAYS($P{FECHA_INI}),0)),0)/30.4166)) END) AS PROM_VTA
,IFNULL(IFNULL(SUM(EXI),0)/IFNULL((CASE WHEN SUM(VTA)=0 AND P.UNIDAD='MIL' THEN 0.100 WHEN SUM(VTA)=0 AND P.UNIDAD<>'MIL' THEN 1 ELSE (SUM(VTA)/(ROUND((ROUND(TO_DAYS($P{FECHA_FIN})-TO_DAYS($P{FECHA_INI}),0)),0)/30.4166)) END),0),0) AS ALC_TOT
,SUM(PEND) AS PED_PEND ,ROUND(SUM(PEND)*P.KILOS/1000,3) AS PED_PEND_TON ,ROUND(SUM(EXI)*P.KILOS/1000,3) AS EX_TON
,ROUND((CASE WHEN SUM(VTA)=0 AND P.UNIDAD='MIL' THEN 0.100 WHEN SUM(VTA)=0 AND P.UNIDAD<>'MIL' THEN 1 ELSE  (SUM(VTA)/(ROUND((ROUND(TO_DAYS($P{FECHA_FIN})-TO_DAYS($P{FECHA_INI}),0)),0)/30.4166)) END)*P.KILOS/1000,3) AS PROMVTA_TON
FROM (
SELECT X.PRODUCTO_ID,X.CLAVE,SUM(X.CANTIDAD/(case when p.unidad ='MIL' then 1000 else 1 end)) AS EXI,0 AS VTA,0 AS PEND FROM EXISTENCIA X JOIN producto p ON(X.producto_id=p.ID) WHERE X.anio=YEAR($P{FECHA_FIN}) AND  X.MES=MONTH($P{FECHA_FIN}) AND   x.sucursal_id LIKE $P{SUCURSAL} GROUP BY X.CLAVE,X.PRODUCTO_ID
UNION
SELECT X.PRODUCTO_ID,P.CLAVE,0,SUM((X.CANTIDAD*-1)/(case when p.unidad ='MIL' then 1000 else 1 end)) AS VTA,0 AS PEND FROM INVENTARIO X JOIN producto p ON(X.producto_id=p.ID) WHERE DATE(X.FECHA) BETWEEN $P{FECHA_INI} AND $P{FECHA_FIN} AND X.TIPO IN('FAC','DEV') AND   X.sucursal_id LIKE $P{SUCURSAL} GROUP BY P.CLAVE,X.PRODUCTO_ID
UNION
SELECT X.PRODUCTO_ID,P.CLAVE,0,0,SUM(((X.SOLICITADO-X.DEPURADO)/(case when P.unidad ='MIL' then 1000 else 1 end))-IFNULL((SELECT SUM(I.CANTIDAD/(case when Y.unidad ='MIL' then 1000 else 1 end)) FROM recepcion_de_compra_det I JOIN producto Y ON(I.producto_id=Y.ID) WHERE I.compra_det_id=X.ID AND I.inventariox IS NOT NULL),0)) AS PENDTE
from compra_det X join compra cc on (x.compra_id = cc.id) JOIN producto P ON(X.producto_id=P.ID) WHERE cc.fecha > '2021-01-01' and cc.pendiente is true  and X.SUCURSAL_ID LIKE $P{SUCURSAL} GROUP BY X.PRODUCTO_ID
) AS A
JOIN producto P ON(A.PRODUCTO_ID=P.ID)
join LINEA L on(L.ID=p.LINEA_ID)
JOIN CLASE C ON(C.ID=P.CLASE_ID)
JOIN marca M ON(M.ID=P.MARCA_ID)
WHERE P.ACTIVO IS TRUE AND P.INVENTARIABLE IS TRUE  AND L.LINEA LIKE $P{LINEA}  $P!{DELINEA}
GROUP BY P.CLAVE
ORDER BY $P!{ORDEN} $P!{FORMA}
) as x]]>
	</queryString>
	<field name="SUCURSAL" class="java.lang.String"/>
	<field name="LINEA" class="java.lang.String"/>
	<field name="CLASE" class="java.lang.String"/>
	<field name="MARCA" class="java.lang.String"/>
	<field name="CLAVE" class="java.lang.String"/>
	<field name="DESCRIPCION" class="java.lang.String"/>
	<field name="KILOS" class="java.math.BigDecimal"/>
	<field name="EXIST" class="java.math.BigDecimal"/>
	<field name="VTA" class="java.math.BigDecimal"/>
	<field name="MESES_PRDO" class="java.math.BigDecimal"/>
	<field name="PROM_VTA" class="java.math.BigDecimal"/>
	<field name="ALC_TOT" class="java.math.BigDecimal"/>
	<field name="PED_PEND" class="java.math.BigDecimal"/>
	<field name="PED_PEND_TON" class="java.math.BigDecimal"/>
	<field name="EX_TON" class="java.math.BigDecimal"/>
	<field name="PROMVTA_TON" class="java.math.BigDecimal"/>
	<field name="PEDIDO" class="java.math.BigDecimal"/>
	<field name="ALC_TOT_PED" class="java.math.BigDecimal"/>
	<variable name="ALC_TOT_PED" class="java.lang.Double">
		<variableExpression><![CDATA[new Double(($F{EXIST}.doubleValue()+$F{PED_PEND}.doubleValue())/$F{PROM_VTA}.doubleValue())]]></variableExpression>
	</variable>
	<variable name="PEDIDO" class="java.lang.Double">
		<variableExpression><![CDATA[new Double(($F{PROM_VTA}.doubleValue()*$P{MESES}.doubleValue())-($F{EXIST}.doubleValue()+$F{PED_PEND}.doubleValue()))]]></variableExpression>
	</variable>
	<variable name="EX_TON_CLASE" class="java.math.BigDecimal" resetType="Group" resetGroup="CLASE" calculation="Sum">
		<variableExpression><![CDATA[$F{EX_TON}]]></variableExpression>
	</variable>
	<variable name="EX_TON_LINEA" class="java.math.BigDecimal" resetType="Group" resetGroup="LINEA" calculation="Sum">
		<variableExpression><![CDATA[$F{EX_TON}]]></variableExpression>
	</variable>
	<variable name="PVTA_TON_LINEA" class="java.math.BigDecimal" resetType="Group" resetGroup="LINEA" calculation="Sum">
		<variableExpression><![CDATA[$F{PROMVTA_TON}]]></variableExpression>
	</variable>
	<variable name="PVTA_TON_CLASE" class="java.math.BigDecimal" resetType="Group" resetGroup="CLASE" calculation="Sum">
		<variableExpression><![CDATA[$F{PROMVTA_TON}]]></variableExpression>
	</variable>
	<variable name="PEDIDO_TON" class="java.lang.Double">
		<variableExpression><![CDATA[(((($F{PROM_VTA}.doubleValue()*$P{MESES}.doubleValue())-
($F{EXIST}.doubleValue()+
$F{PED_PEND}.doubleValue()))*$F{KILOS}.doubleValue())/1000)<=0 ?
new Double(0) :
new Double(((($F{PROM_VTA}.doubleValue()*$P{MESES}.doubleValue())-
($F{EXIST}.doubleValue()+
$F{PED_PEND}.doubleValue()))*$F{KILOS}.doubleValue())/1000)]]></variableExpression>
	</variable>
	<variable name="PED_TON_LINEA" class="java.lang.Double" resetType="Group" resetGroup="LINEA" calculation="Sum">
		<variableExpression><![CDATA[$V{PEDIDO_TON}]]></variableExpression>
	</variable>
	<variable name="PED_TON_CLASE" class="java.lang.Double" resetType="Group" resetGroup="CLASE" calculation="Sum">
		<variableExpression><![CDATA[$V{PEDIDO_TON}]]></variableExpression>
	</variable>
	<variable name="PED_PEND_TON_LINEA" class="java.math.BigDecimal" resetType="Group" resetGroup="LINEA" calculation="Sum">
		<variableExpression><![CDATA[$F{PED_PEND_TON}]]></variableExpression>
	</variable>
	<variable name="PED_PEND_TON_CLASE" class="java.math.BigDecimal" resetType="Group" resetGroup="CLASE" calculation="Sum">
		<variableExpression><![CDATA[$F{PED_PEND_TON}]]></variableExpression>
	</variable>
	<variable name="PED_PEND_TON_TOT" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{PED_PEND_TON}]]></variableExpression>
	</variable>
	<variable name="PED_TON_TOT" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$V{PEDIDO_TON}]]></variableExpression>
	</variable>
	<variable name="EX_TON_TOT" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{EX_TON}]]></variableExpression>
	</variable>
	<variable name="PVTA_TON_TOT" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{PROMVTA_TON}]]></variableExpression>
	</variable>
	<filterExpression><![CDATA[new Boolean(
$P{FILTRADO}.equals( "ALCANCE MENOR" ) ?
$F{ALC_TOT}.doubleValue()<=$P{MESESF}.doubleValue()
:
$P{FILTRADO}.equals( "ALCANCE MAYOR" ) ?
$F{ALC_TOT}.doubleValue()>$P{MESESF}.doubleValue()
:
true
)]]></filterExpression>
	<group name="LINEA">
		<groupExpression><![CDATA[$F{LINEA}]]></groupExpression>
		<groupHeader>
			<band splitType="Stretch"/>
		</groupHeader>
		<groupFooter>
			<band splitType="Stretch"/>
		</groupFooter>
	</group>
	<group name="CLASE">
		<groupExpression><![CDATA[$F{CLASE}]]></groupExpression>
		<groupHeader>
			<band splitType="Stretch"/>
		</groupHeader>
		<groupFooter>
			<band splitType="Stretch"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="2" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="46" splitType="Stretch">
			<staticText>
				<reportElement key="staticText-10" x="3" y="20" width="95" height="13" uuid="2b16e7e8-d410-478d-a52d-837133b72adf"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<text><![CDATA[MESES PARA ALCANCE : ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-11" x="386" y="33" width="63" height="13" uuid="dc3695e3-03fe-4e35-b74f-b02768223bb8"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<text><![CDATA[PERIODO :  DEL]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-15" x="393" y="0" width="173" height="14" uuid="9122ef87-9b52-4cdc-8d0a-cb1bd926b382"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[PAPEL S.A. DE C.V.]]></text>
			</staticText>
			<textField pattern="dd-MMM-yy" isBlankWhenNull="false">
				<reportElement key="textField" x="449" y="33" width="51" height="13" uuid="70f90147-13d8-4600-a5e0-a5f04cde6ff5"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FECHA_INI}]]></textFieldExpression>
			</textField>
			<textField pattern="dd-MMM-yy" isBlankWhenNull="false">
				<reportElement key="textField-8" x="515" y="33" width="51" height="13" uuid="5de6ea59-84b1-4849-99cf-8459828edec0"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FECHA_FIN}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-23" x="500" y="33" width="15" height="13" uuid="8e6c4145-5e77-46fb-8772-7315c45a8bfa"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8"/>
				</textElement>
				<text><![CDATA[AL]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="317" y="14" width="249" height="14" uuid="d0f038f9-f94c-4a43-af63-d880b172f63d"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$P{SUCURSAL}.equals( "%" ) ?
new String ("GENERAL DE ALCANCE (TODAS)") :
new String ("GENERAL DE ALCANCE (").concat($F{SUCURSAL}).concat(")")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="98" y="20" width="34" height="13" uuid="14450e9c-368b-4f8a-9f53-062b053aa249"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{MESES}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-39" mode="Opaque" x="159" y="20" width="75" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="1b9d0384-af93-419e-bdbc-387e8dd1db52"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Oblique" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[ORDENADO POR : ]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-25" x="234" y="20" width="124" height="12" uuid="6b1f6865-f59c-4ec0-9c73-a2d22f1f6fd9"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{ORDEN}.equals(new String("5"))? "CLAVE  " :
$P{ORDEN}.equals(new String("11")) ? "PROMEDIO VTA  " :
$P{ORDEN}.equals(new String("12")) ? "ALCANCE INVENT.  " :
"").concat($P{FORMA})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-26" x="98" y="33" width="139" height="12" uuid="bafd5868-bc32-4ff4-aa40-c3a457ab48d4"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FILTRADO}.equals( "TODOS" ) ? $P{FILTRADO} :
new String($P{FILTRADO}.concat(new String(" A ")).concat($P{MESESF}.toString())
.concat(" MESES"))]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-40" mode="Opaque" x="3" y="33" width="95" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="c0ee0fa0-a6e5-4692-81a4-c68b2dd96b68"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Oblique" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[FILTRADO POR : ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-42" mode="Opaque" x="252" y="33" width="35" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="3c089fab-4708-416b-a7a2-ce250d6e0a1b"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Oblique" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[TIPO : ]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-27" x="287" y="33" width="77" height="12" uuid="0956bb54-388c-47b9-bc34-180fbcf67476"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{DELINEA}.equals(new String("AND DE_LINEA IS TRUE"))? "DE LINEA" :
$P{DELINEA}.equals(new String("AND DE_LINEA IS FALSE")) ? "ESPECIALES" :
"TODOS")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-11" x="43" y="1" width="148" height="13" uuid="944550f0-06d0-42c4-9d16-1643053d4766"/>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="10" isBold="true" isUnderline="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{LINEA}.equals(new String("%"))? "LINEA: TODOS" :
$P{LINEA}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="31" splitType="Stretch">
			<staticText>
				<reportElement key="staticText-5" x="8" y="16" width="64" height="11" uuid="70664152-aace-47ec-b7ae-ceac5b1c8980"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[CLAVE]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-6" x="72" y="16" width="196" height="11" uuid="850536cd-44be-4a89-9d85-738ba02c28e5"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[DESCRIPCION]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-7" x="268" y="16" width="62" height="11" uuid="1d0d9ccb-e15f-476c-a5c8-3aa68b788c90"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[INVENTARIO]]></text>
			</staticText>
			<line>
				<reportElement key="line-2" x="0" y="27" width="566" height="2" uuid="0bf58cfb-861a-455b-b3f3-4e8822aa2b4b"/>
			</line>
			<staticText>
				<reportElement key="staticText-19" x="330" y="16" width="49" height="11" uuid="99a0d27d-1737-4ddc-9b83-a0633d08a50b"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[VENTA]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-20" x="379" y="16" width="36" height="11" uuid="1b065d96-4722-4e36-81fb-cee6b0848da2"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[INV.]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-22" x="415" y="16" width="56" height="11" uuid="2dad256f-7911-46b9-95d1-26bf7c81288e"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[PENDIENTES]]></text>
			</staticText>
			<line>
				<reportElement key="line-6" x="0" y="0" width="566" height="2" uuid="6658fde3-2e49-4507-bb3f-fd99764241f9"/>
			</line>
			<staticText>
				<reportElement key="staticText-24" x="471" y="16" width="42" height="11" uuid="40b01157-abd9-4702-94fd-668e65d8ba83"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[INV+PED]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-25" x="513" y="16" width="46" height="11" uuid="62db87b9-bf06-4b5e-adc6-897295fc2e78"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[PEDIDO]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-26" x="7" y="5" width="261" height="11" uuid="e807919f-99ad-4032-917a-c28402bf0239"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[PRODUCTO]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-31" x="330" y="5" width="49" height="11" uuid="b68eacdb-e592-4f1b-83b1-33f91ae45cd9"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[PROMEDIO]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-32" x="379" y="5" width="36" height="11" uuid="18456f13-6ba8-449e-8512-3a0cbb59ab31"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[ALC.]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-33" x="415" y="5" width="56" height="11" uuid="e692e9ac-e5ce-4e67-aa86-278050e7c5ea"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[PEDIDOS]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-34" x="471" y="5" width="42" height="11" uuid="fd4917f8-faa8-4aad-8f1b-5bdae3094cd0"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[ALC.]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="11" splitType="Stretch">
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="8" y="0" width="64" height="11" uuid="86b5f408-928a-4f9f-b864-1f1a14f0b5bb"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CLAVE}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="72" y="0" width="196" height="11" uuid="7c4561f9-fd03-45c7-92c3-3d889217c49b"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{DESCRIPCION}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.000" isBlankWhenNull="false">
				<reportElement key="textField" x="268" y="0" width="62" height="11" uuid="57995467-8f13-4d6d-a0d3-813dc9316ace"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{EXIST}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0" isBlankWhenNull="false">
				<reportElement key="textField" x="330" y="0" width="49" height="11" uuid="1a35c8c2-c1ff-436e-8cc3-be6b09047154"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PROM_VTA}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0" isBlankWhenNull="false">
				<reportElement key="textField" x="379" y="0" width="36" height="11" uuid="4208d478-9993-46c5-9339-5b62da3de22a"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ALC_TOT}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.000" isBlankWhenNull="false">
				<reportElement key="textField" x="415" y="0" width="56" height="11" uuid="09e0e040-a202-4006-bee2-678dff95e8c1"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PED_PEND}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0" isBlankWhenNull="false">
				<reportElement key="textField-9" x="471" y="0" width="42" height="11" uuid="e96a28ee-0bce-4f3c-b917-4e26e53c3277"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ALC_TOT_PED}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="false">
				<reportElement key="textField-10" x="513" y="0" width="46" height="11" uuid="6fdb800a-a9f4-4c32-aad9-a448fad83183"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PEDIDO}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="16" splitType="Stretch">
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField-5" mode="Opaque" x="243" y="5" width="48" height="11" forecolor="#999999" backcolor="#FFFFFF" uuid="2768da40-dbf7-44c4-9f30-6a9b42ee5d72"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Página " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-18" mode="Opaque" x="387" y="5" width="76" height="11" forecolor="#999999" backcolor="#FFFFFF" uuid="369838fa-ee10-4ad1-ac43-aa976f77775c"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Fecha de impresión:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField-6" mode="Transparent" x="463" y="5" width="83" height="11" forecolor="#999999" backcolor="#FFFFFF" uuid="c0ae2b13-de21-4a28-9962-31c1df3e32ea"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[new Date()]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="textField-7" mode="Transparent" x="292" y="5" width="31" height="11" forecolor="#999999" backcolor="#FFFFFF" uuid="d252c0c6-f6ff-4550-8dcd-7b11985adfb7"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement key="line-5" x="8" y="5" width="557" height="1" forecolor="#CCCCCC" uuid="20e451a1-2eb9-4add-be5b-6143f2d513e6"/>
			</line>
			<line>
				<reportElement key="line-8" mode="Opaque" x="551" y="-1" width="1" height="17" forecolor="#CCCCCC" backcolor="#FFFFFF" uuid="cbea24b4-bbae-45ce-a649-52f4df88c5e4"/>
				<graphicElement fill="Solid"/>
			</line>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="17" splitType="Stretch">
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField-2" mode="Opaque" x="243" y="6" width="48" height="11" forecolor="#999999" backcolor="#FFFFFF" uuid="7d06182b-3c9a-4d00-a7bb-b3a44f47120b"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Página " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-17" mode="Opaque" x="387" y="6" width="76" height="11" forecolor="#999999" backcolor="#FFFFFF" uuid="0fde6343-5c44-4591-8cb3-623d5d5d0d6d"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Fecha de impresión:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField-3" mode="Transparent" x="463" y="6" width="83" height="11" forecolor="#999999" backcolor="#FFFFFF" uuid="b3913ce6-f57e-4c95-9c2e-96681094350e"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[new Date()]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="textField-4" mode="Transparent" x="292" y="6" width="31" height="11" forecolor="#999999" backcolor="#FFFFFF" uuid="1bc0b21c-cf5c-4983-b5cc-9d95ad497785"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement key="line-4" mode="Opaque" x="551" y="0" width="1" height="17" forecolor="#CCCCCC" backcolor="#FFFFFF" uuid="ba9eb78b-e1b2-4b57-8988-d0be7581d4e6"/>
				<graphicElement fill="Solid"/>
			</line>
			<line>
				<reportElement key="line-7" x="8" y="6" width="557" height="1" forecolor="#CCCCCC" uuid="3483b3df-d11f-41f7-be24-4d6128c20ccc"/>
			</line>
		</band>
	</lastPageFooter>
	<summary>
		<band height="20" splitType="Stretch">
			<textField pattern="#,##0.0" isBlankWhenNull="false">
				<reportElement key="textField-28" x="416" y="2" width="55" height="11" uuid="9e210595-0ae2-42bd-9e7e-e3450441be32"/>
				<box>
					<pen lineStyle="Double"/>
					<topPen lineWidth="1.5" lineStyle="Double"/>
					<leftPen lineStyle="Double"/>
					<bottomPen lineStyle="Double"/>
					<rightPen lineStyle="Double"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PED_PEND_TON_TOT}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0" isBlankWhenNull="false">
				<reportElement key="textField-21" x="331" y="2" width="48" height="11" uuid="48f1d86c-c373-44cf-b613-b1a91552f91c"/>
				<box>
					<pen lineStyle="Double"/>
					<topPen lineWidth="1.5" lineStyle="Double"/>
					<leftPen lineStyle="Double"/>
					<bottomPen lineStyle="Double"/>
					<rightPen lineStyle="Double"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PVTA_TON_TOT}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.000" isBlankWhenNull="false">
				<reportElement key="textField-17" x="268" y="2" width="62" height="11" uuid="074fbdf6-e61d-48de-9938-c64b4dcd7e71"/>
				<box>
					<pen lineStyle="Double"/>
					<topPen lineWidth="1.5" lineStyle="Double"/>
					<leftPen lineStyle="Double"/>
					<bottomPen lineStyle="Double"/>
					<rightPen lineStyle="Double"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{EX_TON_TOT}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0" isBlankWhenNull="false">
				<reportElement key="textField-21" x="472" y="2" width="41" height="11" uuid="f9d7ab8f-d95e-4dca-b552-1efd60aa0ba8"/>
				<box>
					<pen lineStyle="Double"/>
					<topPen lineWidth="1.5" lineStyle="Double"/>
					<leftPen lineStyle="Double"/>
					<bottomPen lineStyle="Double"/>
					<rightPen lineStyle="Double"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[new Double(
    ( $V{EX_TON_TOT}.doubleValue() + $V{PED_PEND_TON_TOT}.doubleValue() ) / $V{PVTA_TON_TOT}.doubleValue()
)]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0" isBlankWhenNull="false">
				<reportElement key="textField-21" x="380" y="2" width="35" height="11" uuid="844ca884-ae9f-43ea-90fb-d642d00a3266"/>
				<box>
					<pen lineStyle="Double"/>
					<topPen lineWidth="1.5" lineStyle="Double"/>
					<leftPen lineStyle="Double"/>
					<bottomPen lineStyle="Double"/>
					<rightPen lineStyle="Double"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[new Double(
    $V{EX_TON_TOT}.doubleValue() / $V{PVTA_TON_TOT}.doubleValue()
)]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-41" x="202" y="2" width="66" height="11" uuid="08189ca0-d7e8-4f5d-a6b6-c9815b292a9b"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Totales :  ]]></text>
			</staticText>
			<textField pattern="#,##0.0" isBlankWhenNull="false">
				<reportElement key="textField-28" x="515" y="2" width="44" height="11" uuid="342a6611-cae0-4da5-8b3d-0d59d6cbb6c5"/>
				<box>
					<pen lineStyle="Double"/>
					<topPen lineWidth="1.5" lineStyle="Double"/>
					<leftPen lineStyle="Double"/>
					<bottomPen lineStyle="Double"/>
					<rightPen lineStyle="Double"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PED_TON_TOT}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
